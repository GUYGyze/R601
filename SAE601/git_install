#!/bin/bash

# Vérification des arguments
if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <repository_url>"
    exit 1
fi

REPO_URL=$1

# Installation de Git si non présent
if ! command -v git &> /dev/null; then
    echo "Git n'est pas installé. Installation en cours..."
    sudo apt update && sudo apt install -y git
fi

# Clonage du dépôt
TARGET_DIR=$(basename $REPO_URL .git)
if [ -d "$TARGET_DIR" ]; then
    echo "Le répertoire $TARGET_DIR existe déjà. Mise à jour en cours..."
    cd "$TARGET_DIR" && git pull
else
    echo "Clonage du dépôt..."
    git clone "$REPO_URL"
fi
